var Task=require("task"),Pathing=require("pathing"),Claim=function(a){this.init(a)};Claim.prototype=Object.create(Task.prototype);Claim.prototype.constructor=Claim;Claim.prototype.init=function(a){Task.call(this);this.type="claim"};Claim.prototype.canAssign=function(a){var b=a.room.controller;if(a.spawning||"claimer"!==a.memory.role||!b||b.my||0===a.getActiveBodyparts(CLAIM))return!1;Task.prototype.assign.call(this,a);return!0};
Claim.prototype.run=function(a){!a.room.controller||a.room.controller.my||0===!a.getActiveBodyparts(CLAIM)?Task.prototype.complete.call(this,a):(Pathing.moveTo(a,a.room.controller,1),a.claimController(a.room.controller))};Claim.prototype.toObj=function(a){a.room.controller?a.memory.currentTask={type:this.type}:delete a.memory.currentTask};Claim.fromObj=function(a){return new Claim};Claim.getTask=function(a){if(a.room.controller)return new Claim};require("screeps-profiler").registerObject(Claim,"TaskClaim");
module.exports=Claim;